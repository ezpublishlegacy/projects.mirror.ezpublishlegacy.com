<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">



<!-- Mirrored from projects.ez.no/ngmemcachemutex by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 05 Feb 2017 12:27:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>                                
<title>
            ngmemcachemutex     /         eZ Projects        
</title>

<meta http-equiv="Content-Language" content="en-GB" />
    <meta name="author" content="eZ Systems" />
    <meta name="copyright" content="eZ Systems" />
    <meta name="description" content="Content Management System" />
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework" />

<meta name="MSSmartTagsPreventParsing" content="TRUE" />
<meta name="generator" content="eZ Publish" />

<style type="text/css">
    @import url(extension/ezprojects2007/design/ezprojects2007/stylesheets/core.css);
    @import url(extension/ezprojects2007/design/ezprojects2007/stylesheets/pagelayout.css);
    @import url(extension/ezprojects2007/design/ezprojects2007/stylesheets/classes.css);
    @import url(extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css) print;
</style>

<link type="text/css" rel="stylesheet" href="extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6.css);    </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/gecko.css);</style>");--></script>

<script type="text/javascript" src="extension/ezprojects2007/design/ezprojects2007/javascripts/switch-width.js"></script>

<script type="text/javascript" src="extension/ezprojects2007/design/ezprojects2007/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="extension/ezprojects2007/design/ezprojects2007/javascripts/insertmedia.js"></script>
<script type="text/javascript" src="extension/ezprojects2007/design/ezprojects2007/javascripts/link-target.js"></script>

<script type="text/javascript" src="var/plain_site/cache/public/javascript/059cd8e3b9fa455a526077cbccc48048.js" charset="utf-8"></script>

<link rel="alternate" type="application/rss+xml" title="eZ Projects / ngmemcachemutex" href="rss/feed/25643" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ngmemcachemutex / Downloads" href="rss/feed/25645" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ngmemcachemutex / Forum" href="rss/feed/25646" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ngmemcachemutex / Forum / General" href="rss/feed/25647" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ngmemcachemutex / News" href="rss/feed/25644" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ngmemcachemutex / Reviews" href="rss/feed/25653" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ngmemcachemutex / Subversion" href="rss/feed/25651" />
</head>
<body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="index.html"><span class="hide">eZ Systems</span></a></h1>
</div>

<h2 id="slogan">Share your information</h2>

<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide" />
<div id="searchbox">
<form action="http://projects.ez.no/content/advancedsearch" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search" />
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12" />
    

    </div>

</div>
</form>
</div>

<hr class="hide" />
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="http://login.ez.no/register?return=http://projects.ez.no/ezpsectioncontentreport">Become a member of the eZ Community</a></li>
        <li><a href="http://login.ez.no/forgotpassword?return=http://projects.ez.no/ezdebug_template_operator">Lost password?</a></li>
    
    <li>
    
    <script type="text/javascript">
    <!--
    if ( fixedSize )
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Dynamic width</a>');
    }
    else
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Fixed width</a>');
    }
    -->
    </script>
    
    </li>
    
            <li><a href="http://login.ez.no/login?return=http://projects.ez.no/payment">Log in</a></li>
    </ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END -->

        
<script type="text/javascript">
<!--
var menu = new Array();

menu[0] = [];
menu[1] = [];
menu[2] = [];
menu[3] = ['General', '/ngmemcachemutex/forum/general'];
menu[4] = ['Leaders', '/ngmemcachemutex/team/leaders', 'Members', '/ngmemcachemutex/team/members'];
menu[5] = [];
menu[6] = [];
menu[7] = [];

-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">

    <li class="project" ><a href="ngmemcachemutex.html" onmouseover="switchSubMenu( this );">Netgen Memcache Mutex &nbsp;&nbsp;&gt;&gt;</a></li>
                        <li ><a href="ngmemcachemutex/news.html" onmouseover="switchSubMenu( this );">News</a></li>
                            <li ><a href="ngmemcachemutex/downloads.html" onmouseover="switchSubMenu( this );">Downloads</a></li>
                            <li ><a href="ngmemcachemutex/forum.html" onmouseover="switchSubMenu( this );">Forum</a></li>
                            <li ><a href="ngmemcachemutex/team.html" onmouseover="switchSubMenu( this );">Team</a></li>
                            <li ><a href="ngmemcachemutex/subversion.html" onmouseover="switchSubMenu( this );">Source</a></li>
                            <li ><a href="ngmemcachemutex/gallery.html" onmouseover="switchSubMenu( this );">Gallery</a></li>
                            <li class="last"><a href="ngmemcachemutex/reviews.html" onmouseover="switchSubMenu( this );">Reviews</a></li>
        
    </ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">

    

</ul>
</div>
</div>

<script type="text/javascript"><!--
document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide" />
<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                                    <a href="content/view/full/2.html">ez projects</a>
                    
                        /
                                        ngmemcachemutex
                    
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-normal">
<div class="template-module content-view-full">
<div class="template-object class-project">


<div class="attribute-heading">
    <h1>Netgen Memcache Mutex</h1>
</div>


<div class="attribute-byline float-break">
    <p class="date">Last updated: Friday 07 May 2010 18:11</p>
</div>


<table class="list nohighlight" cellspacing="0">
<tr>
    <th>UNIX name</th>
    <th>Owner</th>
    <th>Status</th>
    <th>Version</th>
    <th>Compatible with</th>
</tr>
<tr class="bglight">
    <td>ngmemcachemutex</td>
    <td><a href="users/community/ivo_lukac.html">Ivo Lukaƒç</a></td>
        <td>        beta
    </td>
        <td>
            1.0
        </td>
    <td>
            4.1
        </td>
</tr>
</table>

    <div class="attribute-short">
        This extension overrides eZMutex to use memcache instead of file locking. 

    </div>
    <div class="attribute-long">
        
<a name="eztoc108410_1" id="eztoc108410_1"></a><h2>About</h2><p>Memcache Mutex extension overrides eZMutex to use memcache instead of file locking. </p><p>Additionaly it overrides eZRunCronjobs class to set longer expiry time for lock (2 * eZRunCronjobs_MaxScriptExecutionTime).</p><p>There is also a simple memcache stats view (/memcache/stats) which is showing a bit of information about your memcache instance (we used some code from <a href="lamemcache.html" target="_self">projects.ez.no/lamemcache</a> for this).</p><p>
Could be helpful for web sites which have a lot off mutex files (slowing down apache access to mutex dir) and for web sites on cluster which share var folder on network shared device (causing flock() system call to be very slow).<br />Otherwise on normal web sites it will not have any significant impact.</p><p>Extension will fallback to file based mutex if memcached for some reason is not available.</p><a name="eztoc108410_2" id="eztoc108410_2"></a><h2>Requirements</h2><p>
- memcache php module <a href="http://www.php.net/manual/en/book.memcache.php" target="_self">www.php.net/manual/en/book.memcache.php</a><br />- available memcached deamon <a href="http://memcached.org/" target="_self">memcached.org</a></p><a name="eztoc108410_3" id="eztoc108410_3"></a><h2>Installation</h2><p>1. Extract the ngmemcachemutex extension, and place it in the extensions folder.</p><p>
2. Enable the extension in eZ Publish.<br />
Do this by opening settings/override/site.ini.append.php and add in the [ExtensionSettings] block:<br />ActiveExtensions[]=ngmemcachemutex</p><p>3. Configure your memcached server and port in memcache.ini</p><p>
4. Update the class autoloads by running the script twice:<br />
php bin/php/ezpgenerateautoloads.php -o<br />php bin/php/ezpgenerateautoloads.php -e</p><p>
5. In config.php enable kernel override<br />define( 'EZP_AUTOLOAD_ALLOW_KERNEL_OVERRIDE', true );</p><p>6. Clear ini cache</p>    </div>

</div>
</div>
</div>






<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-project">

<div class="attribute-heading">
    <h2 class="bullet"><a href="ngmemcachemutex/news.html">Latest news</a></h2>
</div>
<ul class="linklist"><li>



<div class="content-view-list">
<div class="class-comment">

<h3><a title="First beta version of Memcache Mutex imported" href="ngmemcachemutex/news/first_beta_version_of_memcache_mutex_imported.html">First beta version of Memcache Mutex imported</a></h3>
    <div class="attribute-byline float-break">
        <p class="date">Friday 07 May 2010 17:04</p>
        <p class="author"><a href="users/community/ivo_lukac.html">Ivo Lukaƒç</a></p>
    </div>
</div>
</div>
</li></ul>

</div>
</div>
</div>


<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-project">

<div class="attribute-heading">
    <h2 class="bullet"><a href="ngmemcachemutex/reviews.html">Latest reviews</a></h2>
</div>

    <p>This project has no reviews yet. <a href="ngmemcachemutex/reviews.html">Be the first one to review it!</a></p>

</div>
</div>
</div>

<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-project">

<div class="attribute-heading">
    <h2 class="bullet"><a href="ngmemcachemutex/forum.html">Latest forum activity</a></h2>
</div>
    <ul class="linklist">
                                <li>
                                    



<div class="content-view-list">
<div class="class-forummessage">
        


            <h3><a title="Posted by: Ivo Lukaƒç: @Gaetano  When we implemented this solution ezfs2 was not an option for some reason I can't remember now (it had some bugs or similar problems). Currently I don't have resources for comparing, though it would be very interesting to do. Maybe someone from community gives it a try.

@St√©phane Cache based on memcache would be excellent, and it shouldn't be hard to implement  as we have ezcompone..." href="ngmemcachemutex/forum/general/difference_vs_using_ezfs2_cluster_file_handler.html#msg25975">difference vs. using ezfs2 cluster file handler?</a></h3>
    
        <div class="attribute-byline float-break">
        <p class="date">20 May 2010 10:56</p>
        <p class="author"><a href="users/community/ivo_lukac.html">Ivo Lukaƒç</a></p>
    </div>
</div>
</div>                            </li>
                        </ul>
</div>
</div>
</div>



<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

<!-- Footer area: START -->
<div id="page-width6">
<div id="footer">

<address>Powered by <a href="http://ez.no/ezpublish" title="eZ Publish Content Management System">eZ Publish&reg; Content Management System.</a></address>
<address>Copyright &copy; 2007-2011 eZ Systems AS (except where otherwise noted). All rights reserved.</address>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->

<!-- BEGIN GA tracker script -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24601020-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- END GA tracker script -->





</body>

<!-- Mirrored from projects.ez.no/ngmemcachemutex by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 05 Feb 2017 12:27:54 GMT -->
</html>
