<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">



<!-- Mirrored from projects.ez.no/ezcontentstaging/forum/general/targets_with_same_node by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 08 Feb 2017 04:11:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>                                                                                
<title>
            Targets with same node     /         General     /         Forum        
</title>

<meta http-equiv="Content-Language" content="en-GB" />
    <meta name="author" content="eZ Systems" />
    <meta name="copyright" content="eZ Systems" />
    <meta name="description" content="Content Management System" />
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework" />

<meta name="MSSmartTagsPreventParsing" content="TRUE" />
<meta name="generator" content="eZ Publish" />

<style type="text/css">
    @import url(../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/core.css);
    @import url(../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/pagelayout.css);
    @import url(../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/classes.css);
    @import url(../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css) print;
</style>

<link type="text/css" rel="stylesheet" href="../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6.css);    </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/gecko.css);</style>");--></script>

<script type="text/javascript" src="../../../extension/ezprojects2007/design/ezprojects2007/javascripts/switch-width.js"></script>

<script type="text/javascript" src="../../../extension/ezprojects2007/design/ezprojects2007/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../extension/ezprojects2007/design/ezprojects2007/javascripts/insertmedia.js"></script>
<script type="text/javascript" src="../../../extension/ezprojects2007/design/ezprojects2007/javascripts/link-target.js"></script>

<script type="text/javascript" src="../../../var/plain_site/cache/public/javascript/059cd8e3b9fa455a526077cbccc48048.js" charset="utf-8"></script>


</head>
<body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="../../../index.html"><span class="hide">eZ Systems</span></a></h1>
</div>

<h2 id="slogan">Share your information</h2>

<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide" />
<div id="searchbox">
<form action="http://projects.ez.no/content/advancedsearch" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search" />
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12" />
    

    </div>

</div>
</form>
</div>

<hr class="hide" />
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="http://login.ez.no/register?return=http://projects.ez.no/ezpmemberreport">Become a member of the eZ Community</a></li>
        <li><a href="http://login.ez.no/forgotpassword?return=http://projects.ez.no/ezdbintegrity/news/ez_db_integrity_0_1_finally_available">Lost password?</a></li>
    
    <li>
    
    <script type="text/javascript">
    <!--
    if ( fixedSize )
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Dynamic width</a>');
    }
    else
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Fixed width</a>');
    }
    -->
    </script>
    
    </li>
    
            <li><a href="http://login.ez.no/login?return=http://projects.ez.no/">Log in</a></li>
    </ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END -->

                    
<script type="text/javascript">
<!--
var menu = new Array();

menu[0] = [];
menu[1] = [];
menu[2] = [];
menu[3] = ['General', '/ezcontentstaging/forum/general'];
menu[4] = ['Leaders', '/ezcontentstaging/team/leaders', 'Members', '/ezcontentstaging/team/members'];
menu[5] = [];
menu[6] = [];
menu[7] = [];

-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">

    <li class="project" ><a href="../../../ezcontentstaging.html" onmouseover="switchSubMenu( this );">eZ Content Staging &nbsp;&nbsp;&gt;&gt;</a></li>
                        <li ><a href="../../news.html" onmouseover="switchSubMenu( this );">News</a></li>
                            <li ><a href="../../downloads.html" onmouseover="switchSubMenu( this );">Downloads</a></li>
                            <li class="current"><a href="../../forum.html" onmouseover="switchSubMenu( this );">Forum</a></li>
                            <li ><a href="../../team.html" onmouseover="switchSubMenu( this );">Team</a></li>
                            <li ><a href="../../source.html" onmouseover="switchSubMenu( this );">Source</a></li>
                            <li ><a href="../../gallery.html" onmouseover="switchSubMenu( this );">Gallery</a></li>
                            <li class="last"><a href="../../reviews.html" onmouseover="switchSubMenu( this );">Reviews</a></li>
        
    </ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">

                    
            
    <li class="last current"><a href="../general.html">General</a></li>

        

</ul>
</div>
</div>

<script type="text/javascript"><!--
document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide" />
<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                                    <a href="../../../content/view/full/2.html">ez projects</a>
                    
                        /
                            <a href="../../../ezcontentstaging.html">ezcontentstaging</a>
        
                        /
                            <a href="../../forum.html">forum</a>
        
                        /
                            <a href="../general.html">general</a>
        
                        /
                                        targets with same node
                    
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-full">
<div class="template-module content-view-full">
<div class="template-object class-forummessage">



<div id="top" class="attribute-heading">
    <h1>Targets with same node</h1>
</div>


    <p>You need to be <a href="http://login.ez.no/login?return=http://projects.ez.no/">logged in</a> to post messages in the forums. New users may <a href="http://auth.ez.no/user/register">register here</a>.</p>


 



<div class="content-view-children">

<table class="forum list" cellspacing="0">

    




<tr class="bglight" id="msg49017">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/nicolas_gommenginger.html">Nicolas Gommenginger</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../var/plain_site/storage/images/users/community/nicolas_gommenginger/89840-16-eng-GB/nicolas_gommenginger_small.html" width="100" height="100"  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />10 November 2009</p>
        <p class="posts">Posts: 17</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Monday 11 February 2013 10:28:13 am</p>

        <div class="attribute-long">Hi,<br />
<br />
I have a sync between 2 ezpublish instances for all the contents:<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">[Target_AllContents]</span>

<span class="line">Subtrees[]=2</span>

<span class="line">Subtrees[]=43</span>

<span class="line">Subtrees[]=5</span>

<span class="line">RemoteSubtrees[]=2</span>

<span class="line">RemoteSubtrees[]=43</span>

<span class="line">RemoteSubtrees[]=5</span>

<span class="line"></span></pre><br />
A cronjob executed every 5 minutes is used to sync this target.<br />
<br />
Some contents published in a specific node need to be sync more quickly.<br />
So I thought to add a new target with this specific node and to sync this one with another cronjob exectuted every minutes:<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">[Target_SpecificContent]</span>

<span class="line">Subtrees[]=SpecificNodeID</span>

<span class="line">RemoteSubtrees[]=SpecificNodeID</span>

<span class="line"></span></pre><br />
My question is ; should I have to exclude this specific node from the target &quot;AllContents&quot;?<br />
Or is it OK to have the same node included in both targets?<br />
Or maybe there's even an other way to do what I need?<br />
Thanks,<br />
<br />
Nicolas
</div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.html" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>
    




<tr class="bgdark" id="msg49018">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/gaetano_giunta.html">Gaetano Giunta</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../index.html" width="" height=""  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />30 November 1999</p>
        <p class="posts">Posts: 269</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Monday 11 February 2013 12:25:58 pm</p>

        <div class="attribute-long">Hello.<br />
<br />
I do not think that creating 2 overlapping feed definitions from the same target to the same server is going to work. At least for all cases.<br />
<br />
Imagine that the node in question is edited: an event will be added to both feeds, and the change will be synchronized twice. Depening on exact scheduling, maybe feed 1 will sync the change first, maybe feed 2 will.<br />
As long as you only publish new versions of that node, nothing should break, but if you try f.e. to move it or delete it, then only one of the two events will work, the other one will stay pending forever.<br />
<br />
The first workaround which comes to my mind is: use the &quot;filter&quot; feature (EventCreationFilters[] in contentstagingsource.ini) so that any event which relates only to the node in question is not added to the queue of the &quot;slow&quot; feed
</div>
                    <div class="attribute-signature">
            <p>Principal Consultant International Business<br />
Member of the Community Project Board</p>
            </div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.html" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>    




<tr class="bglight" id="msg49041">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/nicolas_gommenginger.html">Nicolas Gommenginger</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../var/plain_site/storage/images/users/community/nicolas_gommenginger/89840-16-eng-GB/nicolas_gommenginger_small.html" width="100" height="100"  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />10 November 2009</p>
        <p class="posts">Posts: 17</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Monday 11 February 2013 5:47:34 pm</p>

        <div class="attribute-long">Hi Gaetano,<br />
Thanks for the answer.<br />
I tried to add a new filter but I have an issue.<br />
I created the class &quot;eZContentStagingEventCreationCPFilter&quot; in the &quot;classes&quot; folder of the ezcontentstaging extension.<br />
I just copied the &quot;eZContentStagingEventCreationLoggingFilter&quot; to create my class.<br />
I added then the param &quot;EventCreationFilters[]=eZContentStagingEventCreationCPFilter&quot; at the &quot;low&quot; target.<br />
Than I clear the cache, regenerate the autoloads, ...<br />
But when a staging event is created, I have the following error:<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">[ Feb 11 2013 17:22:58 ] [10.33.76.79] eZContentStagingEvent::addEvent:</span>

<span class="line">Class eZContentStagingEventCreationCPFilter not found or not exposing correct interface, can not use as event creation filter</span>

<span class="line"></span></pre><br />
I checked the code and it is actually the &quot;!is_subclass_of( $filterClass, 'eZContentStagingEventCreationFilter' )&quot; test that fails, and I don't understand why...<br />
Have you an idea where it could come from?<br />
Thanks,<br />
<br />
Nicolas
</div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.html" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>    




<tr class="bgdark" id="msg49058">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/gaetano_giunta.html">Gaetano Giunta</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../index.html" width="" height=""  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />30 November 1999</p>
        <p class="posts">Posts: 269</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Tuesday 12 February 2013 11:08:33 am</p>

        <div class="attribute-long">I checked on my machine, and the interface check works.<br />
<br />
Then I read better the online docs for php, and found out that the support for doing this was added in php 5.3.7.<br />
<br />
So you should replace<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">!is_subclass_of( $filterClass, 'eZContentStagingEventCreationFilter' )</span>

<span class="line"></span></pre><br />
with<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">!in_array( 'eZContentStagingEventCreationFilter', class_implements( $filterClass ) )</span>

<span class="line"></span></pre><br />
<br />
I will create a bug in the public tracker and file a pull request for this
</div>
                    <div class="attribute-signature">
            <p>Principal Consultant International Business<br />
Member of the Community Project Board</p>
            </div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.html" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>    




<tr class="bglight" id="msg49059">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/nicolas_gommenginger.html">Nicolas Gommenginger</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../var/plain_site/storage/images/users/community/nicolas_gommenginger/89840-16-eng-GB/nicolas_gommenginger_small.html" width="100" height="100"  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />10 November 2009</p>
        <p class="posts">Posts: 17</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Tuesday 12 February 2013 11:29:35 am</p>

        <div class="attribute-long">It works fine now.<br />
Thanks a lot !<br />
<br />
Nicolas
</div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.html" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>
</table>

</div>



 

            <p>You need to be <a href="http://login.ez.no/login?return=http://projects.ez.no/">logged in</a> to post messages in the forums. New users may <a href="http://auth.ez.no/user/register">register here</a>.</p>
    
</div>
</div>
</div>



<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

<!-- Footer area: START -->
<div id="page-width6">
<div id="footer">

<address>Powered by <a href="http://ez.no/ezpublish" title="eZ Publish Content Management System">eZ Publish&reg; Content Management System.</a></address>
<address>Copyright &copy; 2007-2011 eZ Systems AS (except where otherwise noted). All rights reserved.</address>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->

<!-- BEGIN GA tracker script -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24601020-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- END GA tracker script -->





</body>

<!-- Mirrored from projects.ez.no/ezcontentstaging/forum/general/targets_with_same_node by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 08 Feb 2017 04:11:31 GMT -->
</html>
