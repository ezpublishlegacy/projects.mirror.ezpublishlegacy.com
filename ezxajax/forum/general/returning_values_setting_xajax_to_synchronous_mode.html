<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">



<!-- Mirrored from projects.ez.no/ezxajax/forum/general/returning_values_setting_xajax_to_synchronous_mode by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 05 Feb 2017 12:55:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>                                                                                
<title>
            Returning Values - Setting XAJAX to &quot;Synchronous&quot; mode?     /         General     /         Forum        
</title>

<meta http-equiv="Content-Language" content="en-GB" />
    <meta name="author" content="eZ Systems" />
    <meta name="copyright" content="eZ Systems" />
    <meta name="description" content="Content Management System" />
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework" />

<meta name="MSSmartTagsPreventParsing" content="TRUE" />
<meta name="generator" content="eZ Publish" />

<style type="text/css">
    @import url(../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/core.css);
    @import url(../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/pagelayout.css);
    @import url(../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/classes.css);
    @import url(../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css) print;
</style>

<link type="text/css" rel="stylesheet" href="../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6.css);    </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/gecko.css);</style>");--></script>

<script type="text/javascript" src="../../../extension/ezprojects2007/design/ezprojects2007/javascripts/switch-width.js"></script>

<script type="text/javascript" src="../../../extension/ezprojects2007/design/ezprojects2007/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../extension/ezprojects2007/design/ezprojects2007/javascripts/insertmedia.js"></script>
<script type="text/javascript" src="../../../extension/ezprojects2007/design/ezprojects2007/javascripts/link-target.js"></script>

<script type="text/javascript" src="../../../var/plain_site/cache/public/javascript/059cd8e3b9fa455a526077cbccc48048.js" charset="utf-8"></script>


</head>
<body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="../../../index.html"><span class="hide">eZ Systems</span></a></h1>
</div>

<h2 id="slogan">Share your information</h2>

<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide" />
<div id="searchbox">
<form action="http://projects.ez.no/content/advancedsearch" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search" />
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12" />
    

    </div>

</div>
</form>
</div>

<hr class="hide" />
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="http://login.ez.no/register?return=http://projects.ez.no/ezpsectioncontentreport">Become a member of the eZ Community</a></li>
        <li><a href="http://login.ez.no/forgotpassword?return=http://projects.ez.no/ezdebug_template_operator">Lost password?</a></li>
    
    <li>
    
    <script type="text/javascript">
    <!--
    if ( fixedSize )
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Dynamic width</a>');
    }
    else
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Fixed width</a>');
    }
    -->
    </script>
    
    </li>
    
            <li><a href="http://login.ez.no/login?return=http://projects.ez.no/payment">Log in</a></li>
    </ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END -->

                    
<script type="text/javascript">
<!--
var menu = new Array();

menu[0] = [];
menu[1] = [];
menu[2] = [];
menu[3] = ['General', '/ezxajax/forum/general'];
menu[4] = ['Leaders', '/ezxajax/team/leaders', 'Members', '/ezxajax/team/members'];
menu[5] = [];
menu[6] = [];
menu[7] = [];

-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">

    <li class="project" ><a href="../../../ezxajax.html" onmouseover="switchSubMenu( this );">eZ Xajax &nbsp;&nbsp;&gt;&gt;</a></li>
                        <li ><a href="../../news.html" onmouseover="switchSubMenu( this );">News</a></li>
                            <li ><a href="../../downloads.html" onmouseover="switchSubMenu( this );">Downloads</a></li>
                            <li class="current"><a href="../../forum.html" onmouseover="switchSubMenu( this );">Forum</a></li>
                            <li ><a href="../../team.html" onmouseover="switchSubMenu( this );">Team</a></li>
                            <li ><a href="../../subversion.html" onmouseover="switchSubMenu( this );">Source</a></li>
                            <li ><a href="../../gallery.html" onmouseover="switchSubMenu( this );">Gallery</a></li>
                            <li class="last"><a href="../../reviews.html" onmouseover="switchSubMenu( this );">Reviews</a></li>
        
    </ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">

                    
            
    <li class="last current"><a href="../general.html">General</a></li>

        

</ul>
</div>
</div>

<script type="text/javascript"><!--
document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide" />
<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                                    <a href="../../../content/view/full/2.html">ez projects</a>
                    
                        /
                            <a href="../../../ezxajax.html">ezxajax</a>
        
                        /
                            <a href="../../forum.html">forum</a>
        
                        /
                            <a href="../general.html">general</a>
        
                        /
                                        returning values - setting...
                    
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-full">
<div class="template-module content-view-full">
<div class="template-object class-forummessage">



<div id="top" class="attribute-heading">
    <h1>Returning Values - Setting XAJAX to &quot;Synchronous&quot; mode?</h1>
</div>


    <p>You need to be <a href="http://login.ez.no/login?return=http://projects.ez.no/payment">logged in</a> to post messages in the forums. New users may <a href="http://auth.ez.no/user/register">register here</a>.</p>


 



<div class="content-view-children">

<table class="forum list" cellspacing="0">

    




<tr class="bglight" id="msg9553">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/paul_wilson.html">Paul Wilson</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../var/plain_site/storage/images/users/community/paul_wilson/25168-5-eng-GB/paul_wilson_small.jpg" width="67" height="100"  border="0" alt="Paul Wilson" title="Paul Wilson" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />09 January 2008</p>
        <p class="posts">Posts: 7</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Wednesday 21 May 2008 4:19:06 pm</p>

        <div class="attribute-long">Hi,<br />
<br />
I'm trying to use XAJAX to return values to javascript. For example:<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">[in PHP Code...]</span>

<span class="line">$objResponse = new xajaxResponse();</span>

<span class="line">$objResponse-&gt;setReturnValue('Hello World');</span>

<span class="line">return $objResponse;</span>

<span class="line"></span></pre><br />
However for this to work, I need to enable &quot;synchronous&quot; mode for the xajax function being called (&quot;synchronous&quot; means that the browser will wait for the xajax response before executing the remaining Javascript). <br />
<br />
I'm guessing this means:<br />
1) adding optional parameter(s) to xajax.ini files to flag synchronous mode for a given xajax function;<br />
2) modifying extension/ezxajax/autoloads/xajaxoperator.php to allow parameters/arguments to be assigned when functions are registered with xajax.<br />
<br />
Has anyone done this, or perhaps there is a better way I've missed?<br />
<br />
- Paul<br />
<br />
(ref on synchronous xajax: <a href="http://xajaxproject.org/wiki/Xajax_0.5:_Tips_and_Tricks:_New_Features" title="http://xajaxproject.org/wiki/Xajax_0.5:_Tips_and_Tricks:_New_Features">http://xajaxproject.org/wiki/Xajax_0.5:_Tips_and_Tricks:_New_Features</a> )
</div>
        
                                                        <p class="moderated">Moderated by: Kristof Coomans</p>
                        </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.gif" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>
    




<tr class="bgdark" id="msg9558">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/kristof_coomans.html">Kristof Coomans</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../var/plain_site/storage/images/users/community/kristof_coomans/25898-18-eng-GB/kristof_coomans_small.jpg" width="100" height="100"  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />12 February 2004</p>
        <p class="posts">Posts: 68</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Wednesday 21 May 2008 11:19:11 pm</p>

        <div class="attribute-long">Hi Paul<br />
<br />
As far as I know, it's enough to call the xajax function this way:<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">xajax.call( 'myFunction', { mode:'synchronous', parameters['myDiv', 'some new content'] } );</span>

<span class="line"></span></pre><br />
<br />
I did not find any option to register a function as synchronous by default on the PHP side in the documentation, but I must say it's a long time ago I've been looking into xajax.
</div>
                    <div class="attribute-signature">
            <p>independent eZ Publish developer and service provider | <a href="http://blog.coomanskristof.be/" title="http://blog.coomanskristof.be">http://blog.coomanskristof.be</a> | <a href="http://ezpedia.org/" title="http://ezpedia.org">http://ezpedia.org</a></p>
            </div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.gif" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>    




<tr class="bglight" id="msg9559">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/kristof_coomans.html">Kristof Coomans</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../var/plain_site/storage/images/users/community/kristof_coomans/25898-18-eng-GB/kristof_coomans_small.jpg" width="100" height="100"  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />12 February 2004</p>
        <p class="posts">Posts: 68</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Wednesday 21 May 2008 11:39:43 pm</p>

        <div class="attribute-long">It seems only possible to set all ajax requests to be called synchronous by default:<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">$xajax-&gt;configure( 'defaultMode', 'synchronous' );</span>

<span class="line"></span></pre><br />
<br />
Apparently, the configure method replaces the setFlag method, which was introduced earlier and adopted by the ezxajax extension but deprecated now. Currently, only boolean values can be configured with the settings in the xajax.ini [Flags] group.<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">$flags =&amp; $ini-&gt;group( 'Flags' );</span>

<span class="line">foreach ( $flags as $flagName =&gt; $flagINIValue )</span>

<span class="line">{</span>

<span class="line">&nbsp;&nbsp;&nbsp;$normalizedFlagValue = strtolower( trim( $flagINIValue ) );</span>

<span class="line">&nbsp;&nbsp;&nbsp;$flagValue = ( $normalizedFlagValue == 'enabled' || $normalizedFlagValue == 'true' );</span>

<span class="line">&nbsp;&nbsp;&nbsp;$xajax-&gt;setFlag( $flagName, $flagValue );</span>

<span class="line">}</span>

<span class="line"></span></pre><br />
I suggest we modify the current behavior a bit, to change values automatically to booleans only when they are either enabled, true (=&gt; boolean true) or disabled, false (=&gt; boolean false). Maybe we should even rename the group to something like [Configure]?
</div>
                    <div class="attribute-signature">
            <p>independent eZ Publish developer and service provider | <a href="http://blog.coomanskristof.be/" title="http://blog.coomanskristof.be">http://blog.coomanskristof.be</a> | <a href="http://ezpedia.org/" title="http://ezpedia.org">http://ezpedia.org</a></p>
            </div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.gif" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>    




<tr class="bgdark" id="msg9613">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/paul_wilson.html">Paul Wilson</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../var/plain_site/storage/images/users/community/paul_wilson/25168-5-eng-GB/paul_wilson_small.jpg" width="67" height="100"  border="0" alt="Paul Wilson" title="Paul Wilson" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />09 January 2008</p>
        <p class="posts">Posts: 7</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Thursday 29 May 2008 9:50:08 am</p>

        <div class="attribute-long">Hi Kristof,<br />
<br />
Thanks for your replies.<br />
<br />
For the moment, I have changed the file <i>/extension/ezxajax/autoloads/xajaxoperator.php</i> by adding the following code (as you suggested). I added it line 68. <br />
<pre class="wordwrap"><span class="line">$xajax-&gt;configure( 'defaultMode', 'synchronous' ); </span></pre><br />
Yes, this sets all ajax requests to &quot;synchronous&quot;.<br />
<br />
Looking at the Flag options in xajax.ini, my understanding is that it may be useful to have two options:<br />
1) setting the 'defaultMode' as either 'synchronous' or 'asynchronous', and<br />
2) overriding the default to set a particular xajax function call (eg xajax_helloworld) as being either 'synchronous' or 'asynchronous'.<br />
<br />
I see what you mean about the changes from xajax_setFlags to $xajax-&gt;configure (ref for other readers: <a href="http://xajaxproject.org/wiki/Upgrading_from_xajax_0.2_to_xajax_0.5)" title="http://xajaxproject.org/wiki/Upgrading_from_xajax_0.2_to_xajax_0.5)">http://xajaxproject.org/wiki/Upgrading_from_xajax_0.2_to_xajax_0.5)</a>.<br />
<br />
Another method might be to have different call functions according to whether synchronous/asynch is required. For example &quot;xajax_synchronous_helloworld()&quot; or xajax_asynchronous_helloworld()&quot;. This seems to be the way that the YUI connection manager works (<a href="http://developer.yahoo.com/yui/connection/)" title="http://developer.yahoo.com/yui/connection/)">http://developer.yahoo.com/yui/connection/)</a>. For example:<br />
<br />
<pre class="wordwrap"><span class="line">//With our callback object ready, it's now time to    </span>

<span class="line">//make our XHR call using Connection Manager's&nbsp;&nbsp;&nbsp;</span>

<span class="line">//asyncRequest method:&nbsp;&nbsp;&nbsp;</span>

<span class="line">YAHOO.util.Connect.asyncRequest('GET', sUrl, callback);&nbsp;&nbsp;&nbsp;</span>

<span class="line"></span></pre><br />
(this code is from <a href="http://developer.yahoo.com/yui/examples/treeview/dynamic_tree.html)" title="http://developer.yahoo.com/yui/examples/treeview/dynamic_tree.html)">http://developer.yahoo.com/yui/examples/treeview/dynamic_tree.html)</a><br />
<br />
One thing that concerns me a little is that, although there is a new xajax version in the pipeline, there does not seem to be much activity on the xajaxproject.org site at the moment (eg most recent blog post Jan 08). Perhaps it may be worth waiting to see if the project regains some momentum before developing this extension further.<br />
<br />
Regards<br />
<br />
- Paul
</div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.gif" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>
</table>

</div>



 

            <p>You need to be <a href="http://login.ez.no/login?return=http://projects.ez.no/payment">logged in</a> to post messages in the forums. New users may <a href="http://auth.ez.no/user/register">register here</a>.</p>
    
</div>
</div>
</div>



<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

<!-- Footer area: START -->
<div id="page-width6">
<div id="footer">

<address>Powered by <a href="http://ez.no/ezpublish" title="eZ Publish Content Management System">eZ Publish&reg; Content Management System.</a></address>
<address>Copyright &copy; 2007-2011 eZ Systems AS (except where otherwise noted). All rights reserved.</address>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->

<!-- BEGIN GA tracker script -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24601020-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- END GA tracker script -->





</body>

<!-- Mirrored from projects.ez.no/ezxajax/forum/general/returning_values_setting_xajax_to_synchronous_mode by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 05 Feb 2017 12:55:28 GMT -->
</html>
