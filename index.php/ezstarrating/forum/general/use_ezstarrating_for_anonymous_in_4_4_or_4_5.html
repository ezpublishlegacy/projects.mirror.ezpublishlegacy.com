<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">



<!-- Mirrored from projects.ez.no/index.php/ezstarrating/forum/general/use_ezstarrating_for_anonymous_in_4_4_or_4_5 by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 05 Feb 2017 22:22:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>                                                                                
<title>
            Use ezstarrating for anonymous in 4.4 or 4.5     /         General     /         Forum        
</title>

<meta http-equiv="Content-Language" content="en-GB" />
    <meta name="author" content="eZ Systems" />
    <meta name="copyright" content="eZ Systems" />
    <meta name="description" content="Content Management System" />
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework" />

<meta name="MSSmartTagsPreventParsing" content="TRUE" />
<meta name="generator" content="eZ Publish" />

<style type="text/css">
    @import url(../../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/core.css);
    @import url(../../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/pagelayout.css);
    @import url(../../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/classes.css);
    @import url(../../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css) print;
</style>

<link type="text/css" rel="stylesheet" href="../../../../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6.css);    </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/gecko.css);</style>");--></script>

<script type="text/javascript" src="../../../../extension/ezprojects2007/design/ezprojects2007/javascripts/switch-width.js"></script>

<script type="text/javascript" src="../../../../extension/ezprojects2007/design/ezprojects2007/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../extension/ezprojects2007/design/ezprojects2007/javascripts/insertmedia.js"></script>
<script type="text/javascript" src="../../../../extension/ezprojects2007/design/ezprojects2007/javascripts/link-target.js"></script>

<script type="text/javascript" src="../../../../var/plain_site/cache/public/javascript/059cd8e3b9fa455a526077cbccc48048.js" charset="utf-8"></script>


</head>
<body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="../../../../index.html"><span class="hide">eZ Systems</span></a></h1>
</div>

<h2 id="slogan">Share your information</h2>

<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide" />
<div id="searchbox">
<form action="http://projects.ez.no/content/advancedsearch" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search" />
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12" />
    

    </div>

</div>
</form>
</div>

<hr class="hide" />
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="../../../user/register.html">Become a member of the eZ Community</a></li>
        <li><a href="../../../user/forgotpassword.html">Lost password?</a></li>
    
    <li>
    
    <script type="text/javascript">
    <!--
    if ( fixedSize )
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Dynamic width</a>');
    }
    else
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Fixed width</a>');
    }
    -->
    </script>
    
    </li>
    
            <li><a href="../../../user/login.html">Log in</a></li>
    </ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END -->

                    
<script type="text/javascript">
<!--
var menu = new Array();

menu[0] = [];
menu[1] = [];
menu[2] = [];
menu[3] = ['General', '/ezstarrating/forum/general'];
menu[4] = ['Leaders', '/ezstarrating/team/leaders', 'Members', '/ezstarrating/team/members'];
menu[5] = [];
menu[6] = [];
menu[7] = [];

-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">

    <li class="project" ><a href="../../../../ezstarrating.html" onmouseover="switchSubMenu( this );">eZ Star Rating &nbsp;&nbsp;&gt;&gt;</a></li>
                        <li ><a href="../../../../ezstarrating/news.html" onmouseover="switchSubMenu( this );">News</a></li>
                            <li ><a href="../../../../ezstarrating/downloads.html" onmouseover="switchSubMenu( this );">Downloads</a></li>
                            <li class="current"><a href="../../../../ezstarrating/forum.html" onmouseover="switchSubMenu( this );">Forum</a></li>
                            <li ><a href="../../../../ezstarrating/team.html" onmouseover="switchSubMenu( this );">Team</a></li>
                            <li ><a href="../../../../ezstarrating/subversion.html" onmouseover="switchSubMenu( this );">Source</a></li>
                            <li ><a href="../../../../ezstarrating/gallery.html" onmouseover="switchSubMenu( this );">Gallery</a></li>
                            <li class="last"><a href="../../../../ezstarrating/reviews.html" onmouseover="switchSubMenu( this );">Reviews</a></li>
        
    </ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">

                    
            
    <li class="last current"><a href="../../../../ezstarrating/forum/general.html">General</a></li>

        

</ul>
</div>
</div>

<script type="text/javascript"><!--
document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide" />
<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                                    <a href="../../../content/view/full/2.html">ez projects</a>
                    
                        /
                            <a href="../../../ezstarrating.html">ezstarrating</a>
        
                        /
                            <a href="../../forum.html">forum</a>
        
                        /
                            <a href="../general.html">general</a>
        
                        /
                                        use ezstarrating for anonym...
                    
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-full">
<div class="template-module content-view-full">
<div class="template-object class-forummessage">



<div id="top" class="attribute-heading">
    <h1>Use ezstarrating for anonymous in 4.4 or 4.5</h1>
</div>


    <p>You need to be <a href="../../../user/login.html">logged in</a> to post messages in the forums. New users may <a href="http://auth.ez.no/user/register">register here</a>.</p>


 



<div class="content-view-children">

<table class="forum list" cellspacing="0">

    




<tr class="bglight" id="msg42798">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/francisca_hernandez.html">Francisca Hern√°ndez</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../../var/plain_site/storage/images/users/community/francisca_hernandez/26128-9-eng-GB/francisca_hernandez_small.jpg" width="100" height="100"  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />22 April 2004</p>
        <p class="posts">Posts: 6</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/index.php/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Thursday 22 September 2011 2:51:17 pm</p>

        <div class="attribute-long">Hi,<br />
<br />
we use this extension for 2 big projects, we want to update these projects to 4.5 but they use ezstarrating extension for anonymous, the clients don't want to change to registration requirement. <br />
As i see we can not run ezpublish with file system-based user session if we use this functionality.<br />
<br />
Anyone have a solution for this problem?<br />
<br />
Thanks, Fran
</div>
                    <div class="attribute-signature">
            <p>Iguana IT, SL - <a href="http://www.iguanait.com/" title="http://www.iguanait.com">http://www.iguanait.com</a></p>
            </div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.gif" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>
    




<tr class="bgdark" id="msg42799">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/carlos_revillo.html">Carlos Revillo</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../../var/plain_site/storage/images/users/community/carlos_revillo/17708-13-eng-GB/carlos_revillo_small.jpg" width="100" height="68"  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />31 January 2007</p>
        <p class="posts">Posts: 53</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/index.php/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Thursday 22 September 2011 3:37:22 pm</p>

        <div class="attribute-long">+1 for this. same problem here. it seems this piece of code <br />
<br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">// Provide extra session protection on 4.1 (not possible on 4.0) by expecting user</span>

<span class="line">// to have an existing session (new session = mostlikely a spammer / hacker trying to manipulate rating)</span>

<span class="line">if ( class_exists( 'eZSession' ) &amp;&amp; eZSession::userHasSessionCookie() !== true )</span>

<span class="line">&nbsp;&nbsp;&nbsp;return $ret;</span>

<span class="line"></span></pre><br />
<br />
specially the userHasSessionCookie check... <br />
<br />
EDIT. Corrected the code cause i left brackets there... 
</div>
                    <div class="attribute-signature">
            <p>Twitter: @crevillo<br />
Skype ID: crevillo1976<br />
<a href="http://www.tantacom.com/" title="http://www.tantacom.com">http://www.tantacom.com</a><br />
eZ Diff Squad member</p>
            </div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.gif" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>    




<tr class="bglight" id="msg42800">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/carlos_revillo.html">Carlos Revillo</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../../var/plain_site/storage/images/users/community/carlos_revillo/17708-13-eng-GB/carlos_revillo_small.jpg" width="100" height="68"  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />31 January 2007</p>
        <p class="posts">Posts: 53</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/index.php/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Thursday 22 September 2011 3:49:26 pm</p>

        <div class="attribute-long">Quick workaround can be enable ForceStart variable in Session group. like this <br />
<pre class="wordwrap"><span class="line"></span>

<span class="line">[Session]</span>

<span class="line">ForceStart=enabled</span>

<span class="line"></span></pre><br />
<br />
it has worked in my test. but as doc says, this a &quot;bc setting&quot; and shouldn't be needed... so probably this can have a better fix. <br />
<br />
Cheers. <br />

</div>
                    <div class="attribute-signature">
            <p>Twitter: @crevillo<br />
Skype ID: crevillo1976<br />
<a href="http://www.tantacom.com/" title="http://www.tantacom.com">http://www.tantacom.com</a><br />
eZ Diff Squad member</p>
            </div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.gif" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>    




<tr class="bgdark" id="msg42949">
    
    <td class="info">
        <p class="author"><a href="../../../users/community/gaetano_giunta.html">Gaetano Giunta</a></p>


                    <div class="attribute-image">

    
        
    
    <img src="../../../../index.html" width="" height=""  border="0" alt="" title="" />
    
    
    </div>
        
        <p class="membersince">Member since:<br />30 November 1999</p>
        <p class="posts">Posts: 269</p>
    </td>

    
    <td class="message">
                    <form method="post" action="http://projects.ez.no/index.php/content/action">
                <div class="object-right">
                                                </div>
           </form>
       
        <p class="date">Saturday 15 October 2011 2:29:30 am</p>

        <div class="attribute-long">I was going to suggest using ForceStart for sessions, too. This should work with both filesystem-based and db-based session storage.<br />
<br />
I do not see it really as a &quot;hack&quot;, even though it can have some performance consequences, of course.<br />
<br />
One workaround could be to have a separate session-starting view to call just before the rating is executed. This way we still could have no sessions for most users but still use one for preventing rating abuse and to show to users the items they have rated on (a very hackish solution: send user to a page that starts a session and redirects him to original page, where rating is triggered... Slightly better: recover session cookie via js call and inject it into browser).<br />
<br />
Otoh, when we set up sessions for anon users, I do not really see how there is any benefit in security / spam abuse. The rating spammer just has to execute 2 separate GET calls instead of one, passing the cookie he got from the 1st to the 2nd.<br />
<br />
Maybe we could just add an extra ini parameter that allows rating with no sessions at all...
</div>
                    <div class="attribute-signature">
            <p>Principal Consultant International Business<br />
Member of the Community Project Board</p>
            </div>
        
                                </td>
    <td class="buttons">
    <div class="button">
        <a href="#main"><img src="../../../../extension/ezprojects2007/design/ezprojects2007/images/button-move_up.gif" height="16" width="16" alt="Up" title="Jump to first message" /></a>
    </div>
    </td>
</tr>
</table>

</div>



 

            <p>You need to be <a href="../../../user/login.html">logged in</a> to post messages in the forums. New users may <a href="http://auth.ez.no/user/register">register here</a>.</p>
    
</div>
</div>
</div>



<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

<!-- Footer area: START -->
<div id="page-width6">
<div id="footer">

<address>Powered by <a href="http://ez.no/ezpublish" title="eZ Publish Content Management System">eZ Publish&reg; Content Management System.</a></address>
<address>Copyright &copy; 2007-2011 eZ Systems AS (except where otherwise noted). All rights reserved.</address>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->

<!-- BEGIN GA tracker script -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24601020-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- END GA tracker script -->





</body>

<!-- Mirrored from projects.ez.no/index.php/ezstarrating/forum/general/use_ezstarrating_for_anonymous_in_4_4_or_4_5 by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 05 Feb 2017 22:22:06 GMT -->
</html>
