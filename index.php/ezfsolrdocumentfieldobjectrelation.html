<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">



<!-- Mirrored from projects.ez.no/index.php/ezfsolrdocumentfieldobjectrelation by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 05 Feb 2017 16:42:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>                                
<title>
            ezfsolrdocumentfieldobjectrelation     /         eZ Projects        
</title>

<meta http-equiv="Content-Language" content="en-GB" />
    <meta name="author" content="eZ Systems" />
    <meta name="copyright" content="eZ Systems" />
    <meta name="description" content="Content Management System" />
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework" />

<meta name="MSSmartTagsPreventParsing" content="TRUE" />
<meta name="generator" content="eZ Publish" />

<style type="text/css">
    @import url(../extension/ezprojects2007/design/ezprojects2007/stylesheets/core.css);
    @import url(../extension/ezprojects2007/design/ezprojects2007/stylesheets/pagelayout.css);
    @import url(../extension/ezprojects2007/design/ezprojects2007/stylesheets/classes.css);
    @import url(../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css) print;
</style>

<link type="text/css" rel="stylesheet" href="../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6.css);    </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/gecko.css);</style>");--></script>

<script type="text/javascript" src="../extension/ezprojects2007/design/ezprojects2007/javascripts/switch-width.js"></script>

<script type="text/javascript" src="../extension/ezprojects2007/design/ezprojects2007/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../extension/ezprojects2007/design/ezprojects2007/javascripts/insertmedia.js"></script>
<script type="text/javascript" src="../extension/ezprojects2007/design/ezprojects2007/javascripts/link-target.js"></script>

<script type="text/javascript" src="../var/plain_site/cache/public/javascript/059cd8e3b9fa455a526077cbccc48048.js" charset="utf-8"></script>

<link rel="alternate" type="application/rss+xml" title="eZ Projects / ezfsolrdocumentfieldobjectrelation" href="../rss/feed/22169" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ezfsolrdocumentfieldobjectrelation / Downloads" href="../rss/feed/22171" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ezfsolrdocumentfieldobjectrelation / Forum" href="../rss/feed/22172" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ezfsolrdocumentfieldobjectrelation / Forum / General" href="../rss/feed/22173" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ezfsolrdocumentfieldobjectrelation / News" href="../rss/feed/22170" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ezfsolrdocumentfieldobjectrelation / Reviews" href="../rss/feed/22179" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / ezfsolrdocumentfieldobjectrelation / Subversion" href="../rss/feed/22177" />
</head>
<body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="../index.html"><span class="hide">eZ Systems</span></a></h1>
</div>

<h2 id="slogan">Share your information</h2>

<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide" />
<div id="searchbox">
<form action="http://projects.ez.no/content/advancedsearch" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search" />
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12" />
    

    </div>

</div>
</form>
</div>

<hr class="hide" />
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="user/register.html">Become a member of the eZ Community</a></li>
        <li><a href="user/forgotpassword.html">Lost password?</a></li>
    
    <li>
    
    <script type="text/javascript">
    <!--
    if ( fixedSize )
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Dynamic width</a>');
    }
    else
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Fixed width</a>');
    }
    -->
    </script>
    
    </li>
    
            <li><a href="user/login.html">Log in</a></li>
    </ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END -->

        
<script type="text/javascript">
<!--
var menu = new Array();

menu[0] = [];
menu[1] = [];
menu[2] = [];
menu[3] = ['General', '/ezfsolrdocumentfieldobjectrelation/forum/general'];
menu[4] = ['Leaders', '/ezfsolrdocumentfieldobjectrelation/team/leaders', 'Members', '/ezfsolrdocumentfieldobjectrelation/team/members'];
menu[5] = [];
menu[6] = [];
menu[7] = [];

-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">

    <li class="project" ><a href="../ezfsolrdocumentfieldobjectrelation.html" onmouseover="switchSubMenu( this );">ezfsolrdocumentfieldobjectrelation &nbsp;&nbsp;&gt;&gt;</a></li>
                        <li ><a href="../ezfsolrdocumentfieldobjectrelation/news.html" onmouseover="switchSubMenu( this );">News</a></li>
                            <li ><a href="../ezfsolrdocumentfieldobjectrelation/downloads.html" onmouseover="switchSubMenu( this );">Downloads</a></li>
                            <li ><a href="../ezfsolrdocumentfieldobjectrelation/forum.html" onmouseover="switchSubMenu( this );">Forum</a></li>
                            <li ><a href="../ezfsolrdocumentfieldobjectrelation/team.html" onmouseover="switchSubMenu( this );">Team</a></li>
                            <li ><a href="../ezfsolrdocumentfieldobjectrelation/subversion.html" onmouseover="switchSubMenu( this );">Source</a></li>
                            <li ><a href="../ezfsolrdocumentfieldobjectrelation/gallery.html" onmouseover="switchSubMenu( this );">Gallery</a></li>
                            <li class="last"><a href="../ezfsolrdocumentfieldobjectrelation/reviews.html" onmouseover="switchSubMenu( this );">Reviews</a></li>
        
    </ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">

    

</ul>
</div>
</div>

<script type="text/javascript"><!--
document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide" />
<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                                    <a href="content/view/full/2.html">ez projects</a>
                    
                        /
                                        ezfsolrdocumentfieldobjectr...
                    
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-normal">
<div class="template-module content-view-full">
<div class="template-object class-project">


<div class="attribute-heading">
    <h1>ezfsolrdocumentfieldobjectrelation</h1>
</div>


<div class="attribute-byline float-break">
    <p class="date">Last updated: Monday 19 April 2010 20:57</p>
</div>


<table class="list nohighlight" cellspacing="0">
<tr>
    <th>UNIX name</th>
    <th>Owner</th>
    <th>Status</th>
    <th>Version</th>
    <th>Compatible with</th>
</tr>
<tr class="bglight">
    <td>ezfsolrdocumentfieldobjectrelation</td>
    <td><a href="users/community/gilles_guirand.html">gilles guirand</a></td>
        <td>        beta
    </td>
        <td>
            0.1
        </td>
    <td>
            4.x
        </td>
</tr>
</table>

    <div class="attribute-short">
        enhanced the defaut ezfind/classes/ezfsolrdocumentfieldobjectrelation.php

    </div>
    <div class="attribute-long">
        
<a name="eztoc94639_1" id="eztoc94639_1"></a><h2>What's for ?</h2><p>This PHP class enhance the defaut <b>ezfind/classes/ezfsolrdocumentfieldobjectrelation.php</b></p><p>The default current ezfind/classes/ezfsolrdocumentfieldobjectrelation.php is not usable for objet relation(s) faceting. This PHP class enable objet relation(s) faceting using a specific attribute or the 'name' attribute</p><a name="eztoc94639_2" id="eztoc94639_2"></a><h2>Template using</h2><pre class="eztemplate" style="font-family:monospace;"><span style="color: #66cc66;">&#123;</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_functions/variables/set"><span style="color: #0600FF;">set</span></a> <span style="color: #007700;">search</span><span style="color: #66cc66;">=</span><span style="color: #dd0000;"><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/data_and_information_extraction/fetch"><span style="color: #0600FF;">fetch</span></a><span style="color: #66cc66;">&#40;</span></span> ezfind , search ,
           <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/arrays/hash"><span style="color: #0600FF;">hash</span></a><span style="color: #66cc66;">&#40;</span> query , <span style="color: #0000bb;">$search_text</span>,
                   <span style="color: #dd0000;">'facet'</span>, <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/arrays/array"><span style="color: #0600FF;">array</span></a><span style="color: #66cc66;">&#40;</span>
                 <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/arrays/hash"><span style="color: #0600FF;">hash</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #dd0000;">'field'</span>, <span style="color: #dd0000;">'myclass/myattribute/mysubattribute'</span><span style="color: #66cc66;">&#41;</span>
                   <span style="color: #66cc66;">&#41;</span>
               <span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#125;</span></span></pre>

<p>OR</p><pre class="eztemplate" style="font-family:monospace;"><span style="color: #66cc66;">&#123;</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_functions/variables/set"><span style="color: #0600FF;">set</span></a> <span style="color: #007700;">search</span><span style="color: #66cc66;">=</span><span style="color: #dd0000;"><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/data_and_information_extraction/fetch"><span style="color: #0600FF;">fetch</span></a><span style="color: #66cc66;">&#40;</span></span> ezfind , search ,
            <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/arrays/hash"><span style="color: #0600FF;">hash</span></a><span style="color: #66cc66;">&#40;</span> query , <span style="color: #0000bb;">$search_text</span>,
                    <span style="color: #dd0000;">'facet'</span>, <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/arrays/array"><span style="color: #0600FF;">array</span></a><span style="color: #66cc66;">&#40;</span>
                  <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/arrays/hash"><span style="color: #0600FF;">hash</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #dd0000;">'field'</span>, <span style="color: #dd0000;">'myclass/myattribute/name'</span><span style="color: #66cc66;">&#41;</span>
                    <span style="color: #66cc66;">&#41;</span>
                <span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#125;</span></span></pre>

<a name="eztoc94639_3" id="eztoc94639_3"></a><h2>How to install</h2>
<ol>

<li><a href="../ezfsolrdocumentfieldobjectrelation/subversion.html" target="_self">Download the file (or use SVN)</a></li>

<li>Select your version : eZ Find 2.1 or eZ Find 2.2 with the context support (search, facet, sort, ...)</li>

<li>Rename (CustomMap[ezobjectrelationlist]=ezfSolrDocumentFieldObjectRelation) or replace the default <b>ezfind/classes/ezfsolrdocumentfieldobjectrelation.php</b></li>

<li>Set the datatype type map to string (ezfind.ini) : <b>DatatypeMap[ezobjectrelationlist]=string</b></li>

<li>Re-index your content : <b>php extension/ezfind/bin/php/updatesearchindexsolr.php --clean</b></li>

</ol>
    </div>

</div>
</div>
</div>






<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-project">

<div class="attribute-heading">
    <h2 class="bullet"><a href="../ezfsolrdocumentfieldobjectrelation/news.html">Latest news</a></h2>
</div>
<ul class="linklist"><li>



<div class="content-view-list">
<div class="class-comment">

<h3><a title="ezfsolrdocumentfieldobjectrelation.php upgrade for ezfind 2.2" href="../ezfsolrdocumentfieldobjectrelation/news/ezfsolrdocumentfieldobjectrelation_php_upgrade_for_ezfind_2_2.html">ezfsolrdocumentfieldobjectrelation.php upgrade for ezfind 2.2</a></h3>
    <div class="attribute-byline float-break">
        <p class="date">Monday 19 April 2010 21:07</p>
        <p class="author"><a href="../users/community/gilles_guirand.html">gilles guirand</a></p>
    </div>
</div>
</div>
</li></ul>

</div>
</div>
</div>


<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-project">

<div class="attribute-heading">
    <h2 class="bullet"><a href="ezfsolrdocumentfieldobjectrelation/reviews.html">Latest reviews</a></h2>
</div>

    <p>This project has no reviews yet. <a href="ezfsolrdocumentfieldobjectrelation/reviews.html">Be the first one to review it!</a></p>

</div>
</div>
</div>

<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-project">

<div class="attribute-heading">
    <h2 class="bullet"><a href="../ezfsolrdocumentfieldobjectrelation/forum.html">Latest forum activity</a></h2>
</div>
    <ul class="linklist">
                                <li>
                                    



<div class="content-view-list">
<div class="class-forummessage">
    <h3><a title="Posted by: Fraser Hore: Thanks for this great contribution, it's really useful!  I have one problem: it seems to work in some cases and not others.  For example I have two identical object relations attributes in two different classes and the faceting and filtering works in one and not the other.  For some reason one is properly indexed as string and the other as text:  

subattr_mission_element___name_t 

instead..." href="../ezfsolrdocumentfieldobjectrelation/forum/general/inconsistent_results.html#msg38705">Inconsistent results</a></h3>    <div class="attribute-byline float-break">
        <p class="date">16 Nov 2010 11:13</p>
        <p class="author"><a href="../users/community/fraser_hore.html">Fraser Hore</a></p>
    </div>
</div>
</div>                            </li>
                                            <li>
                                    



<div class="content-view-list">
<div class="class-forummessage">
    <h3><a title="Posted by: Fraser Hore: Under this scenario:

&lt;code&gt;
{set search=fetch( ezfind , search ,
           hash( query , $search_text,
                   'facet', array(
                 hash('field', 'myclass/myattribute/mysubattribute')
                   )
               )}
&lt;/code&gt;

What does mysubattribute refer to? Is it any attribute in the data_map of the related object?

Thanks,

Fraser" href="../ezfsolrdocumentfieldobjectrelation/forum/general/what_does_mysubattribute_refer_to.html#msg38706">What does mysubattribute refer to?</a></h3>    <div class="attribute-byline float-break">
        <p class="date">16 Nov 2010 11:15</p>
        <p class="author"><a href="../users/community/fraser_hore.html">Fraser Hore</a></p>
    </div>
</div>
</div>                            </li>
                                            <li>
                                    



<div class="content-view-list">
<div class="class-forummessage">
    <h3><a title="Posted by: andre müller: hi, i have some issues running this on 4.4..should it run fine? or are there any plans to update the class? that would be great :)" href="../ezfsolrdocumentfieldobjectrelation/forum/general/4_4.html#msg39618">4.4</a></h3>    <div class="attribute-byline float-break">
        <p class="date">03 Jan 2011 13:34</p>
        <p class="author"><a href="../users/community/andre_mueller2.html">andre müller</a></p>
    </div>
</div>
</div>                            </li>
                                            <li>
                                    



<div class="content-view-list">
<div class="class-forummessage">
        


            <h3><a title="Posted by: Fraser Hore: I know it's been ages since the last post but we have only now found a solid solution to this problem and I thought it would be useful to direct this thread to it:

http://share.ez.no/forums/developer/ezfind-challenges#comment76898

" href="../ezfsolrdocumentfieldobjectrelation/forum/general/facets_an_array_of_words_rather_than_sentences.html#msg48457">Facets an array of words rather than sentences</a></h3>
    
        <div class="attribute-byline float-break">
        <p class="date">01 Nov 2012 19:13</p>
        <p class="author"><a href="../users/community/fraser_hore.html">Fraser Hore</a></p>
    </div>
</div>
</div>                            </li>
                                            <li>
                                    



<div class="content-view-list">
<div class="class-forummessage">
        


            <h3><a title="Posted by: gilles guirand: You must be right, it makes sense.
I have many other bugs to correct, and also upgrade &amp; test on eZ 4.4...

Just need time." href="../ezfsolrdocumentfieldobjectrelation/forum/general/small_bug.html#msg40559">small bug?</a></h3>
    
        <div class="attribute-byline float-break">
        <p class="date">21 Mar 2011 18:07</p>
        <p class="author"><a href="../users/community/gilles_guirand.html">gilles guirand</a></p>
    </div>
</div>
</div>                            </li>
                                            <li>
                                    



<div class="content-view-list">
<div class="class-forummessage">
    <h3><a title="Posted by: Andy Caiger: Is this extension needed for newer versions of eZ Find such as 2.5 and 2.6? The documentation here only talks about eZ Find 2.2." href="../ezfsolrdocumentfieldobjectrelation/forum/general/compatibility_with_ez_find_2_5.html#msg46041">Compatibility with eZ Find 2.5+</a></h3>    <div class="attribute-byline float-break">
        <p class="date">27 Mar 2012 15:04</p>
        <p class="author"><a href="../users/community/andy_caiger.html">Andy Caiger</a></p>
    </div>
</div>
</div>                            </li>
                        </ul>
</div>
</div>
</div>



<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

<!-- Footer area: START -->
<div id="page-width6">
<div id="footer">

<address>Powered by <a href="http://ez.no/ezpublish" title="eZ Publish Content Management System">eZ Publish&reg; Content Management System.</a></address>
<address>Copyright &copy; 2007-2011 eZ Systems AS (except where otherwise noted). All rights reserved.</address>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->

<!-- BEGIN GA tracker script -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24601020-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- END GA tracker script -->





</body>

<!-- Mirrored from projects.ez.no/index.php/ezfsolrdocumentfieldobjectrelation by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 05 Feb 2017 16:42:15 GMT -->
</html>
