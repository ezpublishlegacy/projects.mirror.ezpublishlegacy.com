<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">



<!-- Mirrored from projects.ez.no/index.php/bcdocumentreaderbundle by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 08 Feb 2017 07:31:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>                                
<title>
            bcdocumentreaderbundle     /         eZ Projects        
</title>

<meta http-equiv="Content-Language" content="en-GB" />
    <meta name="author" content="eZ Systems" />
    <meta name="copyright" content="eZ Systems" />
    <meta name="description" content="Content Management System" />
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework" />

<meta name="MSSmartTagsPreventParsing" content="TRUE" />
<meta name="generator" content="eZ Publish" />

<style type="text/css">
    @import url(../extension/ezprojects2007/design/ezprojects2007/stylesheets/core.css);
    @import url(../extension/ezprojects2007/design/ezprojects2007/stylesheets/pagelayout.css);
    @import url(../extension/ezprojects2007/design/ezprojects2007/stylesheets/classes.css);
    @import url(../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css) print;
</style>

<link type="text/css" rel="stylesheet" href="../extension/ezprojects2007/design/ezprojects2007/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/ie6.css);    </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezprojects2007/design/ezprojects2007/stylesheets/gecko.css);</style>");--></script>

<script type="text/javascript" src="../extension/ezprojects2007/design/ezprojects2007/javascripts/switch-width.js"></script>

<script type="text/javascript" src="../extension/ezprojects2007/design/ezprojects2007/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../extension/ezprojects2007/design/ezprojects2007/javascripts/insertmedia.js"></script>
<script type="text/javascript" src="../extension/ezprojects2007/design/ezprojects2007/javascripts/link-target.js"></script>

<script type="text/javascript" src="../var/plain_site/cache/public/javascript/059cd8e3b9fa455a526077cbccc48048.js" charset="utf-8"></script>

<link rel="alternate" type="application/rss+xml" title="eZ Projects / bcdocumentreaderbundle" href="../rss/feed/54628.html" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / bcdocumentreaderbundle / Downloads" href="../rss/feed/54630.html" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / bcdocumentreaderbundle / Forum" href="../rss/feed/54631.html" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / bcdocumentreaderbundle / Forum / General" href="../rss/feed/54632.html" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / bcdocumentreaderbundle / News" href="../rss/feed/54629.html" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / bcdocumentreaderbundle / Reviews" href="../rss/feed/54638.html" /><link rel="alternate" type="application/rss+xml" title="eZ Projects / bcdocumentreaderbundle / Source" href="../rss/feed/54636.html" />
</head>
<body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="../index.html"><span class="hide">eZ Systems</span></a></h1>
</div>

<h2 id="slogan">Share your information</h2>

<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide" />
<div id="searchbox">
<form action="http://projects.ez.no/content/advancedsearch" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search" />
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12" />
    

    </div>

</div>
</form>
</div>

<hr class="hide" />
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="user/register.html">Become a member of the eZ Community</a></li>
        <li><a href="user/forgotpassword.html">Lost password?</a></li>
    
    <li>
    
    <script type="text/javascript">
    <!--
    if ( fixedSize )
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Dynamic width</a>');
    }
    else
    {
        document.write('<a id="setwidth" href="#" onclick="setWidth(); return false;">Fixed width</a>');
    }
    -->
    </script>
    
    </li>
    
            <li><a href="user/login.html">Log in</a></li>
    </ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END -->

        
<script type="text/javascript">
<!--
var menu = new Array();

menu[0] = [];
menu[1] = [];
menu[2] = [];
menu[3] = ['General', '/bcdocumentreaderbundle/forum/general'];
menu[4] = ['Leaders', '/bcdocumentreaderbundle/team/leaders', 'Members', '/bcdocumentreaderbundle/team/members'];
menu[5] = [];
menu[6] = [];
menu[7] = [];

-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">

    <li class="project" ><a href="../bcdocumentreaderbundle.html" onmouseover="switchSubMenu( this );">BcDocumentReaderBundle &nbsp;&nbsp;&gt;&gt;</a></li>
                        <li ><a href="../bcdocumentreaderbundle/news.html" onmouseover="switchSubMenu( this );">News</a></li>
                            <li ><a href="../bcdocumentreaderbundle/downloads.html" onmouseover="switchSubMenu( this );">Downloads</a></li>
                            <li ><a href="../bcdocumentreaderbundle/forum.html" onmouseover="switchSubMenu( this );">Forum</a></li>
                            <li ><a href="../bcdocumentreaderbundle/team.html" onmouseover="switchSubMenu( this );">Team</a></li>
                            <li ><a href="../bcdocumentreaderbundle/source.html" onmouseover="switchSubMenu( this );">Source</a></li>
                            <li ><a href="../bcdocumentreaderbundle/gallery.html" onmouseover="switchSubMenu( this );">Gallery</a></li>
                            <li class="last"><a href="../bcdocumentreaderbundle/reviews.html" onmouseover="switchSubMenu( this );">Reviews</a></li>
        
    </ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">

    

</ul>
</div>
</div>

<script type="text/javascript"><!--
document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide" />
<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                                    <a href="content/view/full/2.html">ez projects</a>
                    
                        /
                                        bcdocumentreaderbundle
                    
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-normal">
<div class="template-module content-view-full">
<div class="template-object class-project">


<div class="attribute-heading">
    <h1>BcDocumentReaderBundle</h1>
</div>


<div class="attribute-byline float-break">
    <p class="date">Last updated: Wednesday 11 January 2017 15:15</p>
</div>


<table class="list nohighlight" cellspacing="0">
<tr>
    <th>UNIX name</th>
    <th>Owner</th>
    <th>Status</th>
    <th>Version</th>
    <th>Compatible with</th>
</tr>
<tr class="bglight">
    <td>bcdocumentreaderbundle</td>
    <td><a href="users/community/brookins_consulting.html">Brookins Consulting</a></td>
        <td>        stable
    </td>
        <td>
            0.1.6
        </td>
    <td>
            5.x+ (eZ Publish Community Project 2013.11)
        </td>
</tr>
</table>

    <div class="attribute-short">
        This bundle implements a solution to detect file download links within XMLBlock content object attribute content and display the document helper applications which the user can use to open the file documents.

    </div>
    <div class="attribute-long">
        
<a name="eztoc273419_1" id="eztoc273419_1"></a><h2>Version</h2>
<ul>

<li>The current version of BC Document Reader is 0.1.6</li>

<li>Last Major update: May 20, 2015</li>

</ul>
<a name="eztoc273419_2" id="eztoc273419_2"></a><h2>Copyright</h2>
<ul>

<li>BC Document Reader&nbsp;is copyright 1999 - 2017 Brookins Consulting and Think Creative</li>

<li>See:&nbsp;<a href="https://github.com/brookinsconsulting/bcdocumentreaderbundle/blob/master/COPYRIGHT.md" target="_self">COPYRIGHT.md</a>&nbsp;for more information on the terms of the copyright and license</li>

</ul>
<a name="eztoc273419_3" id="eztoc273419_3"></a><h2>License</h2><p>BC Document Reader is licensed under the GNU General Public License.</p><p>The complete license agreement is included in the&nbsp;<a href="https://github.com/brookinsconsulting/bcdocumentreaderbundle/blob/master/LICENSE" target="_self">LICENSE</a>&nbsp;file.</p><p>BC Document Reader is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 2 as published by the Free Software Foundation.</p><p>BC Document Reader is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p><p>The GNU GPL gives you the right to use, modify and redistribute BC Document Reader&nbsp;under certain conditions. The GNU GPL license is distributed with the software, see the file LICENSE.</p><p>It is also available at&nbsp;<a href="http://www.gnu.org/licenses/gpl.txt" target="_self">http://www.gnu.org/licenses/gpl.txt</a></p><p>You should have received a copy of the GNU General Public License along with BC Document Reader in LICENSE. If not, see&nbsp;<a href="http://www.gnu.org/licenses/" target="_self">http://www.gnu.org/licenses/</a>.</p><p>Using BC Document Reader under the terms of the GNU GPL is free (as in freedom).</p><p>For more information or questions please contact:&nbsp;<a href="mailto:license@brookinsconsulting.com" target="_self">license@brookinsconsulting.com</a></p><a name="eztoc273419_4" id="eztoc273419_4"></a><h2>Requirements</h2><p>The following requirements exists for using BC Document Reader Bundle:</p><a name="eztoc273419_4_0_1" id="eztoc273419_4_0_1"></a><h4>eZ Publish version</h4>
<ul>

<li>Make sure you use eZ Publish version 5.x (required) or higher.</li>

<li>Designed and tested with eZ Publish Community Project 2013.11</li>

</ul>
<a name="eztoc273419_4_0_2" id="eztoc273419_4_0_2"></a><h4>PHP version</h4>
<ul>

<li>Make sure you have PHP 5.x or higher.</li>

</ul>
<a name="eztoc273419_5" id="eztoc273419_5"></a><h2>Features</h2><a name="eztoc273419_5_0_3" id="eztoc273419_5_0_3"></a><h4>Twig operators</h4><p>This solution provides the following twig filters and functions</p>
<ul>

<li>Twig Filter: `bc_document_reader` - Used within template overrides to detect download file links configured to detect (via yaml options) and detected within the passed twig filter url parameter input.</li>

<li>Twig Function: `bc_document_readers` - Displays the list of document readers for the download file links configured to detect (via yaml options) and detected within the current page's content object XML BLock attribute(s) content.</li>

<li>Twig filter: `bc_file_size` - Used with the content/download file download embed template to display the embedded file size. This twig filter is based directly on `ez_file_size` provided by default within ezplatform6.0-alpha1. This duplication was required to introduce the same feature support within older versions of eZ Publish Platform 5.x.</li>

</ul>
<a name="eztoc273419_5_0_4" id="eztoc273419_5_0_4"></a><h4>Services</h4>
<ul>

<li>Services to assist in detection of file download file links within content and templates</li>

</ul>
<a name="eztoc273419_5_0_5" id="eztoc273419_5_0_5"></a><h4>Dependencies</h4>
<ul>

<li>This solution does not depend on eZ Publish Legacy in any way&nbsp;</li>

<li>Persistent storage of pagedata and document reader file link extensions</li>

<li>Underlying persistent storage of pagedata variables is provided by the&nbsp;<a href="https://bitbucket.org/brookinsconsulting/bcpagedatabundle" target="_self">BcPageData</a>&nbsp;bundle.&nbsp;
<ul>

<li>If you install via composer this dependency will be installed automatically</li>

</ul>
</li>

</ul>
<a name="eztoc273419_5_0_6" id="eztoc273419_5_0_6"></a><h4>Use case requirements</h4><p>This solution was created to provide for a common set of customer website requirements regarding document accessibility.&nbsp;</p><p>There may not be specific standards requiring all or parts of this solution, but it is part of the best practices we should strongly consider following for making accessible document management based solutions on the web.</p><a name="eztoc273419_5_0_6_1" id="eztoc273419_5_0_6_1"></a><h5>ADA / Section 508 Compliance</h5><p>The standards describe more specifically about making linked documents themselves accessible (which is out of our hands and instead in&nbsp;the hands of the customer) the rest are best practices but not necessarily 'required'.</p><p>&nbsp;Section 508 Standards / Compliance requirements focus heavily on standards for making the documents themselves accessible (which is often out of our hands and instead in the hands of the customer).</p><p>&nbsp;While the Section 508 Standards / Compliance requirements do not specifically mention or require all of the below items, we find the following best practices (not necessarily 'required') help create a more accessible user-experience for document management / reading on the web.</p>
<ul>

<li>&nbsp;Links to document direct-downloads should include the title of the document and/or be explicitly descriptive of the linked document.</li>

<li>All links including but not limited to document direct-download links are subject to all general 508 Standards.</li>

<li>Links should be of a readable size depending on device.</li>

<li>Links should comply with color contrast standards.</li>

<li>Document direct-download links should have the associated mime-type icon and filesize when and where appropriate.</li>

<li>Pages with links for direct download of documents should also display links to an appropriate download page of a corresponding document reader (ie Adobe acrobat) which can open the document at the bottom of the page where possible.</li>

<li>Any image (or any non-text element) associated with the document link (e.g. thumbnail of the document) must include 'alt' text that succinctly describes the content conveyed by the element.</li>

<li>Avoid having redundant links next to each other within the structure of the page (e.g. If a thumbnail image links to a document followed by a standard text link to the same document, both should be wrapped inside a single `&lt;a&gt;` element where possible).</li>

</ul>
<p>Visit <a href="http://www.section508.gov/" target="_self">http://www.section508.gov</a>&nbsp;for more information on the 'Americans with Disabilities Act and Section 508 Compliance'.</p><a name="eztoc273419_6" id="eztoc273419_6"></a><h2>Installation</h2><a name="eztoc273419_6_0_7" id="eztoc273419_6_0_7"></a><h4>Extension Installation via Composer</h4><p>Run the following command from your project root to install the extension:</p><pre class="" style="font-family:monospace;">bash$ composer require brookinsconsulting/bcdocumentreaderbundle dev-master;</span></pre>

<a name="eztoc273419_6_0_8" id="eztoc273419_6_0_8"></a><h4>Bundle Activation</h4><p>Within file `ezpublish/EzPublishKernel.php` at the bottom of the `use` statements, add the following lines.</p><pre class="" style="font-family:monospace;">&amp;nbsp; &amp;nbsp; use BrookinsConsulting\BcPageDataBundle\BcPageDataBundle;
&amp;nbsp; &amp;nbsp; use BrookinsConsulting\BcDocumentReaderBundle\BcDocumentReaderBundle;</span></pre>

<p>Within file `ezpublish/EzPublishKernel.php` method `registerBundles` add the following into the `$bundles = array(` variable definition.</p><p>&nbsp;</p><pre class="" style="font-family:monospace;">&amp;nbsp; &amp;nbsp; // Brookins Consulting : BcDocumentReaderBundle Requirements
 &amp;nbsp;  new BrookinsConsulting\BcPageDataBundle\BcPageDataBundle<span class="br0">&#40;</span><span class="br0">&#41;</span>,
&amp;nbsp; &amp;nbsp; new BrookinsConsulting\BcDocumentReaderBundle\BcDocumentReaderBundle<span class="br0">&#40;</span><span class="br0">&#41;</span></span></pre>

<a name="eztoc273419_6_0_9" id="eztoc273419_6_0_9"></a><h4>Bundle Assets Installation</h4><p>
It is recommended (for the built-in functionality to work) to install bundle assets after bundle installation and activation.<br />Here is an example of how to install bundle assets:</p><p>&nbsp;</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;php -d memory_limit=-<span style="">1</span> ezpublish/console assets:install --relative --symlink web&lt;/span&gt;</span></pre>

<a name="eztoc273419_6_0_10" id="eztoc273419_6_0_10"></a><h4>Bundle Styles Installation</h4><p>It is recommended (for the built-in functionality to work as designed) to install an include of the bundle's styles within your pagelayout template.</p><a name="eztoc273419_6_0_11" id="eztoc273419_6_0_11"></a><h4>Bundle Styles Installation for sites which are already configured to serve scss</h4><p>This solution uses scss by default for it's stylesheets instead of pure css and expects your installation's assetic config.yml to have enabled the assetic stylesheets filters &quot;compass,cssrewrite&quot;.</p><p>Edit your pagelayout twig template and add the bundle's styles.scss within your stylesheets include:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% stylesheets filter=&quot;compass,cssrewrite&quot;
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;@YourCustomBundle/Resources/public/scss/styles.scss&quot;
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;@BcDocumentReaderBundle/Resources/public/scss/styles.scss&quot;
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; %<span class="br0">&#125;</span>&lt;/span&gt;</span></pre>

<p>You will also want to ensure both Ruby and Compass are installed and available as they are used by assetic to convert the scss into css.</p><p>&nbsp;You can install ruby and compass in various ways. Make sure that they are available via command line before running the assetic:dump command and then testing the website's use of them.</p><p>&nbsp;It is recommended (for the built-in functionality to work as designed) to dump bundle assets after installing the bundle styles include in the pagelayout template.</p><p>
&nbsp;Here is an example of how to dump bundle assets:<br />&nbsp;</p><pre class="bash" style="font-family:monospace;">php <span style="color: #660033;">-d</span> <span style="color: #007800;">memory_limit</span>=-<span style="color: #000000;">1</span> ezpublish<span style="color: #000000; font-weight: bold;">/</span>console assetic:dump <span style="color: #660033;">--env</span>=dev web</span></pre>

<a name="eztoc273419_6_0_12" id="eztoc273419_6_0_12"></a><h4>Bundle Styles Installation for sites which are -not- already configured to serve scss</h4><p>This solution uses scss by default for it's stylesheets instead of pure css and expects your installation's assetic config.yml to have enabled the assetic stylesheets filters &quot;compass,cssrewrite&quot;.</p><p>In a default installation of eZ Publish Platform / eZ Platform you can enable these requirements yourself by making the following changes.</p><a name="eztoc273419_6_0_12_2" id="eztoc273419_6_0_12_2"></a><h5>Enable assetic stylesheets filters compass and cssrewrite</h5><p>Edit your `ezpublish/config.yml` file and make the following changes:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp; &amp;nbsp; # Assetic Configuration
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; assetic:
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; debug:&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; %kernel.debug%
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; use_controller: true
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; # snip <span class="br0">&#40;</span>to avoid confusion<span class="br0">&#41;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; filters:
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cssrewrite: ~
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; compass: ~&lt;/span&gt;</span></pre>

<p>Specifically you must add these lines to your assetic configuration, save all config changes and clear all caches:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp; &amp;nbsp; # Assetic Configuration&lt;/span&gt;&lt;span&gt;
&lt;/span&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; # snip <span class="br0">&#40;</span>to avoid confusion<span class="br0">&#41;</span>
&lt;/span&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; filters:
&lt;/span&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cssrewrite: ~
&lt;/span&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; compass: ~&lt;/span&gt;</span></pre>

<p>Specifically you must add these lines to your assetic configuration, save all config changes and clear all caches:</p><a name="eztoc273419_6_0_12_3" id="eztoc273419_6_0_12_3"></a><h5>Ensure Ruby and Compass are installed and available</h5><p>Ruby and Compass are used by assetic to convert the scss into css. You can install ruby and compass in various ways. Make sure that they are available via command line before testing the website's use of them.</p><a name="eztoc273419_6_0_12_4" id="eztoc273419_6_0_12_4"></a><h5>Scss style template code installation for sites which are -not- already configured to serve scss</h5><p>Edit your `pagelayout.html.twig` template or `page_head_style.html.twig` template and add the bundle's styles.scss calls *after* your existing css only stylesheets include calls:</p><pre class="" style="font-family:monospace;">&amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% stylesheets
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; '@eZDemoBundle/Resources/public/css/bootstrap.css'
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; '@eZDemoBundle/Resources/public/css/responsive.css'
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; '@eZDemoBundle/Resources/public/css/video.css'
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; '@BCPageLayoutOverrideTestBundle/Resources/public/css/override.css'
&amp;nbsp; &amp;nbsp; %<span class="br0">&#125;</span>
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;<span class="br0">&#123;</span><span class="br0">&#123;</span> asset_url <span class="br0">&#125;</span><span class="br0">&#125;</span>&quot;/&gt;
&amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% endstylesheets %<span class="br0">&#125;</span>
&amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% stylesheets filter=&quot;compass,cssrewrite&quot;
 &amp;nbsp; &amp;nbsp; &amp;nbsp;  '@BcDocumentReaderBundle/Resources/public/scss/styles.scss'
&amp;nbsp; &amp;nbsp; %<span class="br0">&#125;</span>
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;<span class="br0">&#123;</span><span class="br0">&#123;</span> asset_url <span class="br0">&#125;</span><span class="br0">&#125;</span>&quot;/&gt;
&amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% endstylesheets %<span class="br0">&#125;</span></span></pre>

<p>The above example is from a default installation of eZ Publish Platform Demo Bundle (2014.11).</p><p>&nbsp;It is recommended (for the built-in functionality to work as designed) to dump bundle assets after installing the bundle styles include in the pagelayout template.</p><p>&nbsp;Here is an example of how to dump bundle assets:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;php -d memory_limit=-<span style="">1</span> ezpublish/console assetic:dump --env=dev web&lt;/span&gt;</span></pre>

<a name="eztoc273419_6_0_13" id="eztoc273419_6_0_13"></a><h4>Bundle Document Helper Twig Function Installation</h4><p>Edit your pagelayout twig template and add the following `bc_document_readers` twig function code:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span># START INSTALL THIS CODE: BC Document Reader : Display Document Reader Helper Application Download Links #<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span><span class="br0">&#123;</span> include<span class="br0">&#40;</span>'BcDocumentReaderBundle:parts:reader_links.html.twig', <span class="br0">&#123;</span><span class="br0">&#125;</span><span class="br0">&#41;</span> <span class="br0">&#125;</span><span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span># END INSTALL THIS CODE: BC Document Reader #<span class="br0">&#125;</span>&lt;/span&gt;</span></pre>

<p>Here is a basic example usage:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;div id=&quot;main-content&quot; class=&quot;<span class="br0">&#123;</span>% if is_homepage is not defined %<span class="br0">&#125;</span>panel-light-blue subpage<span class="br0">&#123;</span>% endif %<span class="br0">&#125;</span>&quot; &gt;
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% if is_homepage is not defined %<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;div class=&quot;container&quot;&gt;
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% endif %<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% block content %<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% if module_result %<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span># we are in a legacy rendered module #<span class="br0">&#125;</span> 
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span><span class="br0">&#123;</span> module_result.content|raw <span class="br0">&#125;</span><span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% endif %<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% endblock %<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span># START INSTALL THIS CODE: BC Document Reader : Display Document Reader Helper Application Download Links #<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span><span class="br0">&#123;</span> include<span class="br0">&#40;</span>'BcDocumentReaderBundle:parts:reader_links.html.twig', <span class="br0">&#123;</span><span class="br0">&#125;</span><span class="br0">&#41;</span> <span class="br0">&#125;</span><span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span># END INSTALL THIS CODE: BC Document Reader #<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% if is_homepage is not defined %<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/div&gt;
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span class="br0">&#123;</span>% endif %<span class="br0">&#125;</span>
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/div&gt;&lt;/span&gt;</span></pre>

<a name="eztoc273419_6_0_14" id="eztoc273419_6_0_14"></a><h4>Clear the caches</h4><p>Clear eZ Publish Platform / eZ platfrom caches (Required).</p><pre class="" style="font-family:monospace;">php ezpublish/console cache:clear;</span></pre>

<a name="eztoc273419_7" id="eztoc273419_7"></a><h2>Template Customization</h2><a name="eztoc273419_7_1" id="eztoc273419_7_1"></a><h3>Custom Template Override Twig Filter Installation</h3><p>If you need to use the `bc_document_reader` twig filter within your own custom template overrides (possibly for custom content types) simply pass your template content's url string value into the filter and the file / document type will be detected.</p><a name="eztoc273419_8" id="eztoc273419_8"></a><h2>Mimetype / File type Customization</h2><a name="eztoc273419_8_2" id="eztoc273419_8_2"></a><h3>Supported File Extensions and Mimetypes</h3><p>Please review `Resources/config/documentreader.yml` and `Resources/config/mimetypes.yml` for the default detected file extensions and mimetypes.</p><p>If you wish to support further file extensions and mimetypes simply add them to the yaml settings and clear all caches (required).</p><a name="eztoc273419_8_2_15" id="eztoc273419_8_2_15"></a><h4>Warning to avoid duplicate mimetypes</h4><p>It is important to only have one mimetype per document reader helper application group settings.</p><p>If a mimetype already exists within the settings do not add a duplicate as this will cause serious problems.</p><p>Instead just add the additional file extension to the existing document reader helper application group settings.</p><a name="eztoc273419_8_3" id="eztoc273419_8_3"></a><h3>Add a new file extension to an existing mimetype document reader helper application group settings.</h3><a name="eztoc273419_8_3_16" id="eztoc273419_8_3_16"></a><h4>Detecting additional custom file extension and mimetypes</h4><a name="eztoc273419_8_3_17" id="eztoc273419_8_3_17"></a><h4>Example</h4><p>First edit the bundle settings options file `Resources/config/mimeptypes.yml` and search for the mimetype you wish to add file extension support for.</p><p>In this example we are adding detection support for the `.zipx` files which are not supported by default.</p><p>Since there is already a setting for `application/zip` mimetype, you only need to add the additional extension.</p><p>Here is a clear example of the addition / change that needs to be made.</p><p>Before:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp; &amp;nbsp; - <span class="br0">&#123;</span> type: &quot;CompressedWin&quot;, mimeType: &quot;application/zip&quot;, extensions: <span class="br0">&#91;</span> zip <span class="br0">&#93;</span> <span class="br0">&#125;</span>&lt;/span&gt;</span></pre>

<p>After:</p><p>Here is a clear example of the addition / change that needs to be made.</p><p>Before:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp; &amp;nbsp; - <span class="br0">&#123;</span> type: &quot;CompressedWin&quot;, mimeType: &quot;application/zip&quot;, extensions: <span class="br0">&#91;</span> &lt;/span&gt;&lt;span class=&quot;s1&quot; style=&quot;font-size: 1.1em;&quot;&gt;zip, zipx&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt; <span class="br0">&#93;</span> <span class="br0">&#125;</span>&lt;/span&gt;</span></pre>

<a name="eztoc273419_8_4" id="eztoc273419_8_4"></a><h3>Add a new file extension and mimetype not already within the default settings within an existing document reader helper application group mapping</h3><a name="eztoc273419_8_4_18" id="eztoc273419_8_4_18"></a><h4>Example</h4><p>First edit the bundle settings options file `Resources/config/mimeptypes.yml` and search for the mimetype you wish to add file extension suport for.</p><p>In this example we are adding detection support for the `.cab` files which are not supported by default.</p><p>Since there is not already a setting for `application/vnd.ms-cab-compressed` mimetype, you only need to add the complete settings definition.</p><p>Here is a clear example of the addition / change that needs to be made.</p><p>Add the following setting line:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp; &amp;nbsp; helper_mime_map:
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; # Snip <span class="br0">&#40;</span>Feel free to place the following line any position below the helper_mime_map: line
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; - <span class="br0">&#123;</span> type: &quot;CompressedWin&quot;, mimeType: &quot;application/vnd.ms-cab-compressed&quot;, extensions: <span class="br0">&#91;</span> cab <span class="br0">&#93;</span> <span class="br0">&#125;</span>&lt;/span&gt;</span></pre>

<p>Save your yaml settings additions and clear all caches (required).</p><p>By default with the above settings additions will display the CompressedWin document reader helper application, 'WinRar (for Windows)'.</p><a name="eztoc273419_8_5" id="eztoc273419_8_5"></a><h3>Add a new file extension and mimetype not already within the default settings within a new document reader helper application group mapping</h3><a name="eztoc273419_8_5_19" id="eztoc273419_8_5_19"></a><h4>Example</h4><p>First edit the bundle settings options file `Resources/config/mimeptypes.yml` and search for the mimetype you wish to add file extension suport for.</p><p>In this example we are adding detection support for the `.ogg` audio files which are not supported by default.</p><p>Since there is not already a setting for `audio/ogg` mimetype, you only need to add the complete settings definition.</p><p>Here is a clear example of the addition / change that needs to be made.</p><p>Add the following setting line:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;helper_mime_map:
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; # Snip <span class="br0">&#40;</span>Feel free to place the following line any position below the helper_mime_map: line
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; - <span class="br0">&#123;</span> type: &quot;WindowsVlc&quot;, mimeType: &quot;audio/ogg&quot;, extensions: <span class="br0">&#91;</span> ogg, opus, oga, spx <span class="br0">&#93;</span> <span class="br0">&#125;</span>&lt;/span&gt;</span></pre>

<p>Save your yaml settings additions.</p><p>Second edit the bundle settings options file `Resources/config/documentreaders.yml` and add the following document reader helper settings:</p><p>Here is a clear example of the addition / change that needs to be made.</p><p>Add the following setting line:</p><pre class="" style="font-family:monospace;">&lt;span class=&quot;s1&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;helpers:
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; WindowsVlc:
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; name: VLC Media File
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; viewer_name: VLC Media Player
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; viewer_url: http://get.videolan.org/vlc/2.2.1/win32/vlc-2.2.1-win32.exe
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; icon: audio
&lt;/span&gt;&lt;span style=&quot;font-size: 1.1em;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; icon_image: mimetypes/sound.png&lt;/span&gt;</span></pre>

<p>Save your yaml settings additions and clear all caches (required).</p><p>By default with the above settings additions will display the WindowsVlc document reader helper application, 'Vlc (for Windows)'.</p><p>Usage</p><p>The solution is configured to work virtually by default once properly installed.</p><a name="eztoc273419_8_5_20" id="eztoc273419_8_5_20"></a><h4>Testing</h4><p>The solution is configured to work once properly installed and configured.</p><p>Simply navigate to a content object node which contains one or more xmlblock attributes. If the xmlblock attribute content contains links to files like pdf, zip, rar, mp3, etc simply load this page in your user siteaccess. If not simply use the admin to add some links to filetypes supported by default and view the node in your user siteaccess.</p><p>Troubleshooting</p><a name="eztoc273419_8_5_21" id="eztoc273419_8_5_21"></a><h4>Read the FAQ</h4><p>Some problems are more common than others. The most common ones are listed in the the&nbsp;<a href="https://github.com/brookinsconsulting/bcuserregisteruserplacement/blob/master/doc/FAQ.md" target="_self">doc/FAQ.md</a></p><a name="eztoc273419_8_5_22" id="eztoc273419_8_5_22"></a><h4>Support</h4><p>If you have find any problems not handled by this document or the FAQ you can contact Brookins Consulting through the support system:&nbsp;<a href="http://brookinsconsulting.com/contact" target="_self">http://brookinsconsulting.com/contact</a></p>    </div>

</div>
</div>
</div>






<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-project">

<div class="attribute-heading">
    <h2 class="bullet"><a href="../bcdocumentreaderbundle/news.html">Latest news</a></h2>
</div>
<p>No news yet.</p>
</div>
</div>
</div>


<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-project">

<div class="attribute-heading">
    <h2 class="bullet"><a href="bcdocumentreaderbundle/reviews.html">Latest reviews</a></h2>
</div>

    <p>This project has no reviews yet. <a href="bcdocumentreaderbundle/reviews.html">Be the first one to review it!</a></p>

</div>
</div>
</div>

<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-project">

<div class="attribute-heading">
    <h2 class="bullet"><a href="../bcdocumentreaderbundle/forum.html">Latest forum activity</a></h2>
</div>
<p>No forum messages yet.</p>
</div>
</div>
</div>



<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

<!-- Footer area: START -->
<div id="page-width6">
<div id="footer">

<address>Powered by <a href="http://ez.no/ezpublish" title="eZ Publish Content Management System">eZ Publish&reg; Content Management System.</a></address>
<address>Copyright &copy; 2007-2011 eZ Systems AS (except where otherwise noted). All rights reserved.</address>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->

<!-- BEGIN GA tracker script -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24601020-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- END GA tracker script -->





</body>

<!-- Mirrored from projects.ez.no/index.php/bcdocumentreaderbundle by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 08 Feb 2017 07:31:21 GMT -->
</html>
